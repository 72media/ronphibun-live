<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>‡∏ï‡∏•‡∏≤‡∏î‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå - ‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏ñ‡πà‡∏≤‡∏¢‡∏ó‡∏≠‡∏î‡∏™‡∏î</title>
  <style>
    body { font-family: sans-serif; background: #f0f0f0; margin: 0; text-align: center; }
    h1 { background: #0077cc; color: white; padding: 1rem; margin: 0; }
    #video-container { margin-top: 1rem; }
    iframe { width: 90vw; height: 50vh; border: none; }
    .info-box { margin-top: 1rem; padding: 1rem; background: white; display: inline-block; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    .weather { margin-top: 1rem; }
    img.snapshot { margin-top: 1rem; width: 90vw; max-width: 600px; }
  </style>
</head>
<body>
  <h1>üìç ‡∏ï‡∏•‡∏≤‡∏î‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå - ‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏ñ‡πà‡∏≤‡∏¢‡∏ó‡∏≠‡∏î‡∏™‡∏î</h1>
  <div id="video-container">
    <iframe src="https://ramrome.thddns.net:3383" allowfullscreen></iframe>
  </div>
  <div class="info-box">
    <div id="clock">‡πÄ‡∏ß‡∏•‡∏≤: --:--:--</div>
    <div id="weather" class="weather">‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏≤‡∏Å‡∏≤‡∏®...</div>
    <img id="snapshot" class="snapshot" src="snapshots/latest.jpg" alt="‡∏†‡∏≤‡∏û‡∏ô‡∏¥‡πà‡∏á‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î" />
  </div>
  <script>
    function updateClock() {
      const now = new Date();
      now.setHours(now.getHours() + 7); // GMT+7
      document.getElementById("clock").textContent =
        "‡πÄ‡∏ß‡∏•‡∏≤: " + now.toLocaleTimeString("th-TH");
    }
    setInterval(updateClock, 1000);
    updateClock();

    async function loadWeather() {
      try {
        const res = await fetch("https://api.open-meteo.com/v1/forecast?latitude=8.181&longitude=99.9302&current=temperature_2m,weather_code,wind_speed_10m");
        const data = await res.json();
        const current = data.current;
        const weatherCode = current.weather_code;
        const weatherDesc = {
          0: "‡πÅ‡∏à‡πà‡∏°‡πÉ‡∏™", 1: "‡∏°‡∏µ‡πÄ‡∏°‡∏Ü‡∏ö‡∏≤‡∏á‡∏™‡πà‡∏ß‡∏ô", 2: "‡∏°‡∏µ‡πÄ‡∏°‡∏Ü‡∏°‡∏≤‡∏Å", 3: "‡πÄ‡∏°‡∏Ü‡∏Ñ‡∏£‡∏∂‡πâ‡∏°",
          45: "‡∏°‡∏µ‡∏´‡∏°‡∏≠‡∏Å", 48: "‡∏´‡∏°‡∏≠‡∏Å‡∏à‡∏±‡∏î", 51: "‡∏ù‡∏ô‡∏õ‡∏£‡∏≠‡∏¢", 61: "‡∏ù‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢",
          63: "‡∏ù‡∏ô‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á", 65: "‡∏ù‡∏ô‡∏´‡∏ô‡∏±‡∏Å", 80: "‡∏ù‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏¢‡πà‡∏≠‡∏°", 95: "‡∏ù‡∏ô‡∏ü‡πâ‡∏≤‡∏Ñ‡∏∞‡∏ô‡∏≠‡∏á"
        };
        document.getElementById("weather").innerHTML =
          "üå° ‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥: " + current.temperature_2m + "¬∞C<br>" +
          "üí® ‡∏•‡∏°: " + current.wind_speed_10m + " km/h<br>" +
          "‚õÖÔ∏è ‡∏™‡∏†‡∏≤‡∏û‡∏≠‡∏≤‡∏Å‡∏≤‡∏®: " + (weatherDesc[weatherCode] || "‡πÑ‡∏°‡πà‡∏ó‡∏£‡∏≤‡∏ö");
      } catch (e) {
        document.getElementById("weather").textContent = "‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏≤‡∏Å‡∏≤‡∏®";
      }
    }
    loadWeather();
  </script>
</body>
</html>
